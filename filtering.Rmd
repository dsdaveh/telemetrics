---
title: "Filtering Noise in the Data"
author: "Dave Hurst"
date: "Thursday, December 25, 2014"
output: html_document
---

Preliminary notes for dealing with noise in the data.

```{r get_driver, echo=FALSE}
source("telematic_util.R")

data.dir <- "c:/NO_BACKUP/kaggle/telematics/drivers"

drivers.dir <- dir(data.dir)
set.seed(2349)

random.driver <- order(runif(1:length(drivers.dir), ))

N.DRIVERS <- 1
driver.df <- data.frame(id=integer()
                        , speed.avg=numeric(), speed.max=numeric()
                        , break.max=numeric(), accel.max=numeric())
for (i in 1:N.DRIVERS) {
    driver.id <- drivers.dir[random.driver[i]]
    j <- 99  #grab
    trip <- getTrip( driver.id, j )
    driver.df[i, "id"] = driver.id
    driver.df[i, "speed.avg"] =  mean(trip$v)
    driver.df[i, "speed.max"] =  max(trip$v)
    driver.df[i, "break.max"] =  min(trip$a)
    driver.df[i, "accel.max"] =  max(trip$a)
}    
    
```
Now we've got the `r j`th trip for driver `r drivers.dir[random.driver[i]]` in memory. 

Here's an obvious depiction of the problem.  The plot below shows the last 90 seconds of the journey.  It's clear that the car is motionless, and yet we get wiggle in the coordinates that show up as 21 m/s velocity.

```{r, echo=FALSE}
plotTrip(trip, tmin=nrow(trip)-90, v.mark=1)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
